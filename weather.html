<script>
  async function getWeather() {
    const city = encodeURIComponent("–ê—Å—Ç—Ä–∞—Ö–∞–Ω—å");
    const url = `https://wttr.in/${city}?format=j1`;

    try {
      const res = await fetch(url);
      const data = await res.json();

      const temp = data.current_condition[0].temp_C;
      const desc = data.current_condition[0].lang_ru?.[0]?.value || "";

      document.querySelector(".temp").textContent = temp + "¬∞C";
      document.querySelector(".city").textContent = "–ê—Å—Ç—Ä–∞—Ö–∞–Ω—å ¬∑ " + desc;

    } catch (err) {
      console.error(err);
      document.querySelector(".temp").textContent = "–ù–µ—Ç —Å–≤—è–∑–∏ üò¢";
    }
  }

  getWeather();
</script>
